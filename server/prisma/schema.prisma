datasource db {
  provider = "postgresql"
  url      = env("API_DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Task {
  id        String   @id
  label     String
  done      Boolean
  createdAt DateTime
}

model Game {
  id        String   @id
  status    String
  createdAt DateTime @default(now())
  player    Player[]
  Enemy     Enemy[]
}

model Enemy {
  id     Int      @id @default(autoincrement())
  health Int
  score  Int
  gameId String
  game   Game     @relation(fields: [gameId], references: [id])
  Bullet Bullet[]
}

model Player {
  userId String   @id
  life   Int      @default(3)
  score  Int      @default(0)
  speed  Float
  gameId String
  game   Game     @relation(fields: [gameId], references: [id])
  Bullet Bullet[]
}

model Bullet {
  id             Int     @id @default(autoincrement())
  damage         Int
  isPlayerBullet Boolean
  playerId       String?
  player         Player? @relation(fields: [playerId], references: [userId])
  enemyId        Int?
  enemy          Enemy?  @relation(fields: [enemyId], references: [id])
}
